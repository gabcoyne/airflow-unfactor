# Airflow Operator Coverage Matrix

This document lists all Airflow operators supported by airflow-unfactor and their Prefect equivalents.

## Quick Reference

| Status | Meaning |
|--------|---------|
| Supported | Full conversion with Prefect integration |
| Scaffold | Generates working scaffold code |
| Manual | Requires manual review after conversion |

**Total Operators Supported: 35**

## AWS S3

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `S3CreateObjectOperator` | `s3_upload` | prefect-aws | Supported |
| `S3DeleteObjectsOperator` | `s3_delete` | prefect-aws | Supported |
| `S3CopyObjectOperator` | `s3_copy` | prefect-aws | Supported |
| `S3ListOperator` | `s3_list` | prefect-aws | Supported |
| `S3FileTransformOperator` | `s3_transform` | prefect-aws | Supported |

## AWS Compute

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `LambdaInvokeFunctionOperator` | `lambda_invoke` | prefect-aws | Supported |
| `EcsRunTaskOperator` | `ecs_run_task` | prefect-aws | Supported |
| `EksCreateClusterOperator` | `eks_create_cluster` | prefect-aws | Supported |
| `EksPodOperator` | `kubernetes_job` | prefect-kubernetes | Supported |

## AWS Data

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `GlueJobOperator` | `glue_job` | prefect-aws | Supported |
| `GlueCrawlerOperator` | `glue_crawler` | prefect-aws | Supported |
| `RedshiftSQLOperator` | `redshift_query` | prefect-aws | Supported |

## GCP Storage & BigQuery

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `BigQueryInsertJobOperator` | `bigquery_query` | prefect-gcp | Supported |
| `BigQueryExecuteQueryOperator` | `bigquery_query` | prefect-gcp | Supported |
| `GCSCreateBucketOperator` | `create_gcs_bucket` | prefect-gcp | Supported |
| `GCSToGCSOperator` | `gcs_copy` | prefect-gcp | Supported |
| `GCSDeleteObjectsOperator` | `gcs_delete` | prefect-gcp | Supported |
| `GCSFileTransformOperator` | `gcs_transform` | prefect-gcp | Supported |

## GCP Compute

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `DataprocSubmitJobOperator` | `dataproc_job` | prefect-gcp | Supported |
| `DataprocCreateClusterOperator` | `dataproc_create_cluster` | prefect-gcp | Supported |

## GCP Messaging

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `PubSubPublishMessageOperator` | `pubsub_publish` | prefect-gcp | Supported |
| `PubSubCreateSubscriptionOperator` | `pubsub_create_subscription` | prefect-gcp | Supported |

## Azure

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `WasbBlobOperator` | `azure_blob` | prefect-azure | Supported |
| `AzureDataFactoryRunPipelineOperator` | `adf_run_pipeline` | prefect-azure | Supported |

## Databricks

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `DatabricksRunNowOperator` | `databricks_run_now` | prefect-databricks | Supported |
| `DatabricksSubmitRunOperator` | `databricks_submit_run` | prefect-databricks | Supported |
| `DatabricksSqlOperator` | `databricks_sql` | prefect-databricks | Supported |

## dbt

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `DbtCloudRunJobOperator` | `dbt_cloud_run_job` | prefect-dbt | Supported |
| `DbtRunOperator` | `dbt_run` | prefect-dbt | Supported |

## Database

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `PostgresOperator` | `execute_sql` | prefect-sqlalchemy | Supported |
| `MySqlOperator` | `execute_sql` | prefect-sqlalchemy | Supported |
| `SnowflakeOperator` | `snowflake_query` | prefect-snowflake | Supported |

## Notifications

| Airflow Operator | Prefect Function | Integration | Status |
|------------------|------------------|-------------|--------|
| `SlackAPIPostOperator` | `send_message` | prefect-slack | Supported |
| `EmailOperator` | `email_send_message` | prefect-email | Supported |

## Core Operators

Core Airflow operators are converted to native Prefect patterns:

| Airflow Operator | Prefect Pattern | Notes |
|------------------|-----------------|-------|
| `PythonOperator` | `@task` decorator | Direct function conversion |
| `BashOperator` | `shell_run_command` | Shell task execution |
| `BranchPythonOperator` | Conditional logic | Native Python if/else |
| `ShortCircuitOperator` | Early return | Native Python control flow |
| `DummyOperator` | Removed | Not needed in Prefect |
| `EmptyOperator` | Removed | Not needed in Prefect |

## Adding New Operators

To request support for an operator not listed:

1. Check if a Prefect integration exists at [prefect-integrations](https://docs.prefect.io/integrations/)
2. If an integration exists, open an issue with the operator details
3. If no integration exists, the operator may require manual conversion

## Using lookup_concept

For any operator in this matrix, `lookup_concept` provides the translation rules:

```json
{
  "tool": "lookup_concept",
  "args": { "concept": "S3CreateObjectOperator" }
}
```

Returns the Prefect equivalent, required integration package, and conversion guidance. The LLM uses this to generate the correct Prefect code.

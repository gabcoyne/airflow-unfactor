import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { PipelineDiagram } from "@/components/docs/pipeline-diagram";
import Link from "next/link";

# Documentation

An MCP server that converts Airflow DAGs to Prefect flows.

<div className="grid grid-cols-1 gap-4 md:grid-cols-3">
  <Link href="/docs/getting-started/installation" className="block">
    <Card className="h-full transition-colors hover:bg-muted/40">
      <CardHeader>
        <CardTitle>Getting Started</CardTitle>
      </CardHeader>
      <CardContent>
        Install the MCP server and convert your first DAG.
      </CardContent>
    </Card>
  </Link>
  <Link href="/docs/mcp" className="block">
    <Card className="h-full transition-colors hover:bg-muted/40">
      <CardHeader>
        <CardTitle>MCP Tools</CardTitle>
      </CardHeader>
      <CardContent>
        Five tools: read, lookup, search, validate, scaffold.
      </CardContent>
    </Card>
  </Link>
  <Link href="/docs/conversion/operators" className="block">
    <Card className="h-full transition-colors hover:bg-muted/40">
      <CardHeader>
        <CardTitle>Operator Mappings</CardTitle>
      </CardHeader>
      <CardContent>
        Airflow→Prefect operator equivalents and patterns.
      </CardContent>
    </Card>
  </Link>
</div>

## Philosophy

**Deterministic code templating is brittle.** Airflow and Prefect are architecturally dissimilar—edge cases are inevitable.

Instead, we give the LLM raw source code and **translation knowledge compiled from live sources**. It generates the Prefect code. Not a scaffold with TODOs — working code.

## Workflow

<PipelineDiagram />

**We read. The LLM generates. We validate.**

## What the tools provide

| Tool | Returns |
|------|---------|
| `read_dag` | Raw source code, file path, size, line count |
| `lookup_concept` | Pre-compiled Airflow→Prefect mappings (operators, patterns, connections) |
| `search_prefect_docs` | Live Prefect documentation search results |
| `validate` | Syntax check, both sources, comparison guidance |
| `scaffold` | Project directory structure following prefecthq/flows conventions |

<Badge variant="secondary">FastMCP</Badge> <Badge variant="outline">LLM-Native</Badge>
